{"version":3,"sources":["src/app.js","src/environment.js","src/home.js","src/main.js","src/resources/index.js","src/services/async-http-client.js","src/services/fixtures.js","src/services/messages.js","src/services/tweet-service.js","src/viewmodels/globalTimeline/globalTimeline.js","src/viewmodels/login/login.js","src/viewmodels/logout/logout.js","src/viewmodels/profile/profile.js","src/viewmodels/signup/signup.js","src/viewmodels/tweet/tweet.js"],"names":["App","au","ea","subscribe","msg","status","success","setRoot","then","router","navigateToRoute","configureRouter","config","map","route","name","moduleId","nav","title","debug","testing","Home","aurelia","mapUnknownRoutes","configure","use","standardConfiguration","feature","developmentLogging","plugin","start","AsyncHttpClient","httpClient","fixtures","http","withBaseUrl","baseUrl","get","url","post","obj","delete","Fixtures","LoginStatus","AllTweetsReady","tweets","UserTweetsReady","TweetService","ac","users","loggedInUser","getUsers","getTweets","publish","res","content","catch","getUserTweets","_id","login","email","password","message","user","register","firstName","lastName","userName","newUser","description","profileImage","follows","postTweet","text","date","Date","formattedDate","toDateString","tweet","author","postedImage","returnedTweet","deleteTweet","id","logout","GlobalTimeline","ts","tweetService","Login","e","console","log","Logout","Profile","Signup","Tweet","selectedOption","length"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {inject, Aurelia} from 'aurelia-framework';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport TweetService from './services/tweet-service';\nimport {LoginStatus} from './services/messages';\n\n@inject(Aurelia, EventAggregator)\nexport class App {\n\n  constructor(au, ea){\n    ea.subscribe(LoginStatus, msg => {\n      if(msg.status.success === true){\n        au.setRoot('home').then(() =>{\n          this.router.navigateToRoute('tweet');\n        });\n      } else {\n        au.setRoot('app').then(() => {\n          this.router.navigateToRoute('login');\n        });\n      }\n    });\n  }\n\n  configureRouter(config, router){\n    config.map([\n      {route:['','login'], name:'login', moduleId:'viewmodels/login/login', nav:true, title: 'Login'},\n      {route: 'signup', name:'signup', moduleId:'viewmodels/signup/signup', nav: true, title:'Signup'}\n    ]);\n    this.router = router;\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import {inject, Aurelia} from 'aurelia-framework';\r\n\r\n@inject(Aurelia)\r\nexport class Home {\r\n\r\n    constructor(au){\r\n        this.aurelia = au;\r\n    }\r\n\r\n    configureRouter(config, router){\r\n        config.map([\r\n            {route:['', 'home'], name:'tweet', moduleId:'viewmodels/tweet/tweet', nav:true, title:'Your Timeline'},\r\n            {route:'globalTimeline', name:'globalTimeline', moduleId:'viewmodels/globalTimeline/globalTimeline', nav:true, title:'Global Timeline'},\r\n            {route:'logout', name:'logout', moduleId:'viewmodels/logout/logout', nav:true, title:'Logout'}           \r\n        ]);\r\n        this.router = router;\r\n\r\n        config.mapUnknownRoutes(instruction => {\r\n            return 'home';\r\n        });\r\n    }\r\n}","import environment from './environment';\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {inject} from 'aurelia-framework';\r\nimport {HttpClient} from 'aurelia-http-client';\r\nimport Fixtures from './fixtures';\r\n\r\n@inject(HttpClient, Fixtures)\r\nexport default class AsyncHttpClient{\r\n\r\n    constructor(httpClient, fixtures){\r\n        this.http = httpClient;\r\n        this.http.configure(http => {\r\n            http.withBaseUrl(fixtures.baseUrl);\r\n        });\r\n    }\r\n\r\n    get(url){\r\n        return this.http.get(url);\r\n    }\r\n\r\n    post(url, obj){\r\n        return this.http.post(url, obj);\r\n    }\r\n\r\n    delete(url){\r\n        return this.http.delete(url);\r\n    }\r\n\r\n}","export default class Fixtures {\r\n\r\n    baseUrl = 'https://sheltered-atoll-65815.herokuapp.com/';\r\n\r\n    \r\n\r\n}","export class LoginStatus{\r\n    constructor(status){\r\n        this.status = status;\r\n    }\r\n}\r\n\r\nexport class AllTweetsReady{\r\n    constructor(tweets){\r\n        this.tweets = tweets;\r\n    }\r\n}\r\n\r\nexport class UserTweetsReady{\r\n    constructor(tweets){\r\n        this.tweets = tweets;\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport Fixtures from './fixtures';\r\nimport {LoginStatus, AllTweetsReady, UserTweetsReady} from './messages';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\nimport AsyncHttpClient from './async-http-client';\r\n\r\n@inject(EventAggregator, AsyncHttpClient)\r\nexport default class TweetService{\r\n    \r\n    users = [];\r\n    loggedInUser = null;\r\n\r\n    constructor(ea, ac){\r\n        this.ea = ea;\r\n        this.ac = ac;\r\n        this.getUsers();\r\n    }\r\n\r\n    getTweets(){\r\n\r\n        this.ac.get('/api/tweets').then(res => {\r\n            this.ea.publish(new AllTweetsReady(res.content));\r\n        }).catch(err=>{\r\n        });\r\n\r\n    }\r\n\r\n    getUsers(){\r\n\r\n        this.ac.get('/api/users').then(res => {\r\n            this.users = res.content;\r\n            \r\n        }).catch(err=>{\r\n        });\r\n\r\n    }\r\n\r\n    getUserTweets(){\r\n\r\n        this.ac.get('/api/tweetsUser/' + this.loggedInUser._id).then(res => {\r\n            this.ea.publish(new UserTweetsReady(res.content));\r\n        }).catch(err =>{\r\n        });\r\n\r\n    }\r\n\r\n    login(email, password){\r\n        const status = {\r\n            success: false,\r\n            message: ''\r\n        };\r\n        \r\n        for(let user of this.users){\r\n            if(user.email === email && user.password === password){\r\n                this.loggedInUser = user;\r\n                this.getUserTweets();\r\n                status.success = true;\r\n                status.message = 'logged in';              \r\n                break;\r\n            }\r\n        }\r\n        this.ea.publish(new LoginStatus(status));\r\n    }\r\n\r\n    register(firstName, lastName, userName, email, password){\r\n        const newUser = {\r\n            firstName: firstName,\r\n            lastName: lastName,\r\n            userName: userName,\r\n            description: \"Hi, I'm new to Tweets and this is my profile\",\r\n            email: email,\r\n            password: password,\r\n            profileImage: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAyCAIAAAClJN76AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QwTETULvpeljgAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAANJSURBVFjD7ZffShtBFMZnZnfdmARNoDQQ+yc10VqwjVChhWqU+ARC9LYXfahCX0Bv1CuxRFFBLVWSgjUaDQ01MVHBGOIqm83OzkwvpKHGZKPJbhXac7ews7/5vjl75hz48dMpuLtA4E6Db2CNJFFCQCqt2Wzo+Ji43VwuR10PkcfDm4jPZMnhIYlE1Nwpubhg11/wPOX7+1vcbu5RB2ckPn1AYjH1+xYuFCilNV/bT2npA83hQK9eCr29LU8ec83ii0X2I6ktLyuHR4SQ+hulFOTzdGW1lExqw8MWn5dvbYUNpl6xyCJRdWpaPsjciF0OQsBBhkxNy5GoWiyyRtQXi2x1rbS0XNI01lhWyzKb+6woCht4J9byoKb69Q11cUlpmH0ZmsYWl5T1DfV25kejanheuZXhOgcRnleiUfWmeEmi4YVmdVd4EF5QJIneCD87pxQK1NjqVijQ2TmlPj6TJYkEZsxYOmAMJBI4kyV18PE4lmWj4b9/hHgc18HHto2XXjYgtq2LlySaz1NgWuTztCIBr+LPGcbMPDzGTDpneuqpieIBpUBPvSF1pm4V0sEz8/HsHjVbV/D6d7MhUYG4gnc4TDejAnHlwelAFtFEAywidOrgBQE20K3ePDweXhBqmw8h6PMLyJwTQAj0+QUIdWu+z8e7XJwZeJeL8/n4OleO3Y5GghbDDUAIjAQtdjuqg0cIdHfxXq/BGeD18t1d/HVVVWSKIhwPWQ38BSwiHA9ZxWofrIKHELS1oWDQAo3YAIQgGLS0taGqX0O11gwFRG+nAUfg7eSHAmItJUhn12Mhq83WlAM2GxwLWXVc1EtxpxMFBsVm8IFB0elEjc94qVRTLUAqRfRnvJr4dFqbmpb3ErgZ/F4CT03L6bR2ixGTEPBzX5uZkXOntMmulxCwFcNHR2R01PrMw3NcPfWEgJ04npiUT3LUkI6bMXCSoxOT8k4cX2/m+D/7wLMzurJa+rquGjjgXcb5OZ2YlN++aRkcENvbUbn88Zcb3N3Dm5s4vosVhZk0ZmgaW/tSin5TX/QIfr/Q81yAEMD3Hw4jUZzNan+hzS0Hx4GODr7/tQDbHyRN7e31r0F0V+zLbLtPjfZ//H/8P4P/BaUljmJ8GjTRAAAAAElFTkSuQmCC\",\r\n            follows: []\r\n        }\r\n\r\n        this.ac.post('/api/users', newUser).then(res => {\r\n            this.getUsers();\r\n        }).catch(err=>{\r\n        });\r\n    }\r\n\r\n    postTweet(text){\r\n        let date = new Date();\r\n        let formattedDate = date.toDateString();\r\n        let tweet = {\r\n            author: null,\r\n            text: text,\r\n            date: date,\r\n            formattedDate: formattedDate,\r\n            postedImage: \"\"\r\n        };\r\n\r\n        this.ac.post('/api/tweets', {tweet: tweet, user: this.loggedInUser}).then(res => {\r\n            const returnedTweet = res.content;\r\n            this.getTweets();\r\n            this.getUserTweets();\r\n        }).catch(err=>{\r\n        });\r\n    }\r\n\r\n    deleteTweet(id){\r\n        this.ac.delete('/api/tweets/' + id).then(res => {\r\n            this.getTweets();\r\n            this.getUserTweets();\r\n        }).catch(err=>{\r\n        });\r\n    }\r\n\r\n    logout(){\r\n        const status = {\r\n            success: false,\r\n            message: ''\r\n        };\r\n\r\n        this.ea.publish(new LoginStatus(status));\r\n    }\r\n      \r\n}","import {inject} from \"aurelia-framework\";\r\nimport TweetService from '../../services/tweet-service';\r\nimport {AllTweetsReady} from '../../services/messages';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(TweetService, EventAggregator)\r\nexport class GlobalTimeline {\r\n\r\n    tweets = [];\r\n\r\n    constructor(ts, ea) { \r\n        this.tweetService = ts;\r\n        ts.getTweets();\r\n        ea.subscribe(AllTweetsReady, msg => {\r\n            this.tweets = msg.tweets;\r\n        });     \r\n        \r\n    }\r\n\r\n}","import {inject} from 'aurelia-framework';\r\nimport TweetService from '../../services/tweet-service';\r\n\r\n@inject(TweetService)\r\nexport class Login {\r\n\r\n  email = 'marge@simpson.com';\r\n  password = 'secret';\r\n\r\n  constructor(ts) {\r\n    this.tweetService = ts;\r\n  }\r\n\r\n  login(e) {\r\n    console.log(`Trying to log in ${this.email}`);\r\n    this.tweetService.login(this.email, this.password);\r\n  }\r\n}","import TweetService from '../../services/tweet-service';\r\nimport {inject} from 'aurelia-framework';\r\n\r\n@inject(TweetService)\r\nexport class Logout {\r\n\r\n  constructor(ts) {\r\n    this.tweetService = ts;\r\n  }\r\n\r\n  logout() {\r\n    console.log('logging out');\r\n    this.tweetService.logout();\r\n  }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport TweetService from '../../services/tweet-service';\r\n\r\n@inject(TweetService)\r\nexport class Profile {\r\n    user = null;\r\n\r\n    constructor(ts) {\r\n        this.user = ts.user;\r\n    }\r\n}","import {inject} from 'aurelia-framework';\r\nimport TweetService from '../../services/tweet-service';\r\n\r\n@inject(TweetService)\r\nexport class Signup {\r\n\r\n  firstName = 'Marge';\r\n  lastName = 'Simpson';\r\n  userName = 'margeS';\r\n  email = 'marge@simpson.com';\r\n  password = 'secret';\r\n\r\n  constructor(ts) {\r\n    this.tweetService = ts;\r\n  }\r\n\r\n  register(e) {\r\n    this.tweetService.register(this.firstName, this.lastName, this.userName, this.email, this.password);\r\n    this.tweetService.login(this.email, this.password);\r\n  }\r\n}","import {inject} from \"aurelia-framework\";\r\nimport TweetService from '../../services/tweet-service';\r\nimport {UserTweetsReady} from '../../services/messages';\r\nimport {EventAggregator} from 'aurelia-event-aggregator';\r\n\r\n@inject(TweetService, EventAggregator)\r\nexport class Tweet {\r\n\r\n    text = \"Hello World\";\r\n    tweets = [];\r\n    user = null;\r\n    selectedOption = null;\r\n\r\n    constructor(ts, ea) { \r\n        this.tweetService = ts;\r\n        this.user = ts.loggedInUser;  \r\n        ts.getUserTweets();\r\n        ea.subscribe(UserTweetsReady, msg => {\r\n          this.tweets = msg.tweets;\r\n          if(this.tweets.length > 0)\r\n            this.selectedOption = this.tweets[0];\r\n        });\r\n        \r\n                        \r\n        \r\n    }\r\n\r\n    postTweet() {\r\n      this.tweetService.postTweet(this.text, this.user);\r\n    }\r\n\r\n    deleteTweet(){\r\n      this.tweetService.deleteTweet(this.selectedOption._id);\r\n      if(this.tweets.length > 0)\r\n        this.selectedOption = this.tweets[0];\r\n    }\r\n  }"],"sourceRoot":".."}